{"version":3,"sources":["img/market.svg","img/newMarker.svg","reducers/markers.js","reducers/globals.js","reducers/markerDetail.js","reducers/markerEdit.js","reducers/index.js","reducers/test.js","actions/types.js","actions/new_marker.js","actions/load_marker.js","actions/edit_marker.js","components/NewMarker.js","components/ToolBar.js","components/Filter.js","components/EditMarker.js","helpers/iconList.js","components/Home.js","components/Main.js","index.js"],"names":["module","exports","defaultValues","markers","newMarketShowRefPoint","newMarketFromOpen","editMarketFromOpen","markerDetail","until","queue_level","products","ready","name","id","combineReducers","test","state","action","type","payload","statics","markerList","forEach","element","untilAux","location_id","lat","lng","long","marker_type","update","$merge","marker_id","globals","$set","markerEdit","setNewMarkerRefPointOn","dispatch","setNewMarkerRefPointOff","setNewMarkerFromOpen","setNewMarkerFromClose","require","config","loadStaticMarkers","a","body","JSON","stringify","latMin","latMax","lngMin","lngMax","headers","process","axios","post","res","data","console","log","loadMarkers","getMarketDetail","push","nivelCola","closing_hour","unLoadMarkerDetail","newMarker","setEditMarkerFromOpen","setEditMarkerFromClose","editMarker","NewMarker","props","now","moment","nombre","time","format","selectCola","value","label","level","selectProducto","error","showAviso","procesando","optionsList","this","setState","item","length","validateForm","newMarkerLat","newMarkerLng","then","style","color","s","textAlign","paddingBottom","paddingTop","backgroundColor","onClick","window","location","reload","onCreateNewMarker","selectedOptionsStyles","optionsListStyles","marginTop","offset","paddingLeft","paddingRight","onChange","event","target","allowEmpty","showSecond","defaultValue","className","inputReadOnly","marginBottom","options","optionClicked","optionClickedCola","bind","selectedBadgeClicked","selectedBadgeClickedCola","isSingleSelect","optionClickedProducto","selectedBadgeClickedProducto","renderError","width","position","background","borderRadius","renderForm","renderOptions","Component","connect","actions","ToolBar","renderToolBar","Filter","updateCenderMap","navigator","geolocation","getCurrentPosition","poss","coords","latitude","longitude","centerLat","centerLng","enableHighAccuracy","maximumAge","EditMarker","markerId","selectColaAux","selectProductoAux","encontrado","incomeItems","onEditMarker","fontSize","iconMarket","L","Icon","iconUrl","iconRetinaUrl","iconAnchor","popupAnchor","shadowUrl","shadowSize","shadowAnchor","iconSize","Point","Home","mapRef","React","createRef","zoom","newMarkerIcon","centerMap","items","Object","entries","markerData","editButton","disabled","Marker","key","icon","Popup","autoPan","join","center","displayMap","display","zIndex","textClassName","href","onClickCenterMap","class","renderNewMarkerFrom","renderEditMarkerFrom","Map","maxZoom","minZoom","ref","onViewportChange","onChangeMapPosition","zoomControl","TileLayer","attribution","url","renderMarker","renderNewMarketIcon","ZoomControl","Main","exact","path","component","store","createStore","reducers","compose","applyMiddleware","reduxThunk","devToolsExtension","f","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.6f1b9540.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/market.4497199f.svg\";","module.exports = __webpack_public_path__ + \"static/media/newMarker.d04a1686.svg\";","import update from 'react-addons-update';\r\n\r\nimport { LOAD_STATIC_MARKERS, LOAD_MARKERS } from '../actions/types';\r\n\r\nvar defaultValues = {\r\n  markers: {\r\n    /*\r\n      a0001:{\r\n        lat: -32.949715,\r\n        lng: -71.544152,\r\n        name: 'a'\r\n      },\r\n      a0002:{\r\n        lat: 50.505,\r\n        lng: -0.09,\r\n        name: 'b'\r\n      },\r\n    */\r\n  }\r\n}\r\n\r\nexport default function(state = defaultValues , action) {\r\n  switch (action.type){\r\n    case LOAD_STATIC_MARKERS:\r\n      let statics = {};\r\n      //TODO: Sacar esto de aqui\r\n      action.payload.markerList.forEach(element => {\r\n        let untilAux;\r\n        if(element.until == 'null'){\r\n          untilAux = 'Estamos averiguando para usted ♥';\r\n        }else{\r\n          untilAux = element.until;\r\n        }\r\n        statics[element.location_id] = {\r\n          lat: element.lat,\r\n          lng: element.long,\r\n          name: element.name,\r\n          until: untilAux,\r\n          marker_type: -1,\r\n        }\r\n      });\r\n      return update(state, {markers: {$merge: statics}} );\r\n    case LOAD_MARKERS:\r\n      let test = {};\r\n      //console.log(action.payload.markerList);\r\n      action.payload.markerList.forEach(element => {\r\n        test[element.marker_id] = {\r\n          lat: element.lat,\r\n          lng: element.long,\r\n          name: element.name,\r\n          until: 'none',\r\n          marker_type: element.marker_type,\r\n        }\r\n      });\r\n      //console.log(test);\r\n      return update(state, {markers: {$merge: test}} );\r\n    default:\r\n      return state;\r\n  }\r\n}","import update from 'react-addons-update';\r\n\r\nimport { SET_GLOBAL_CONFIG } from '../actions/types';\r\n\r\nvar defaultValues = {\r\n    newMarketShowRefPoint: false,\r\n    newMarketFromOpen: false,\r\n    editMarketFromOpen:false,\r\n}\r\n\r\nexport default function(state = defaultValues , action) {\r\n  switch (action.type){\r\n    case SET_GLOBAL_CONFIG:\r\n      return update(state, {$merge: action.payload} );\r\n    default:\r\n      return state;\r\n  }\r\n}","import update from 'react-addons-update';\r\n\r\nimport { LOAD_MARKER_DETAIL, UNLOAD_MARKER_DETAIL } from '../actions/types';\r\n\r\nvar defaultValues = {\r\n  markerDetail: {\r\n    until: '00:00',\r\n    queue_level: '0',\r\n    products:['']\r\n  },\r\n  ready: false\r\n}\r\n\r\nexport default function(state = defaultValues , action) {\r\n  switch (action.type){\r\n    case LOAD_MARKER_DETAIL:\r\n        return update(state, {$set: action.payload});\r\n    case UNLOAD_MARKER_DETAIL:\r\n        return update(state, {ready: {$set: false}});\r\n    default:\r\n        return state;\r\n  }\r\n}","import update from 'react-addons-update';\r\n\r\nimport { SET_MARKER_EDIT_DATA } from '../actions/types';\r\n\r\nvar defaultValues = {\r\n  markerDetail: {\r\n    until: '00:00',\r\n    queue_level: '0',\r\n    products:[''],\r\n    name: '',\r\n    id:'',\r\n  }\r\n}\r\n\r\nexport default function(state = defaultValues , action) {\r\n  switch (action.type){\r\n    case SET_MARKER_EDIT_DATA:\r\n        //console.log(action.payload);\r\n        //return state; \r\n        return update(state, {markerDetail: {$set: action.payload}});\r\n    default:\r\n        return state;\r\n  }\r\n}","  \r\nimport { combineReducers } from 'redux';\r\n\r\nimport test from './test';\r\nimport markers from './markers';\r\nimport globals from './globals';\r\nimport markerDetail from './markerDetail';\r\nimport markerEdit from './markerEdit';\r\n\r\nexport default combineReducers({\r\n  test: test,\r\n  markers: markers,\r\n  globals: globals,\r\n  markerDetail: markerDetail,\r\n  markerEdit: markerEdit\r\n});","import { TEST } from '../actions/types';\r\n\r\nexport default function(state = 0 , action) {\r\n  switch (action.type){\r\n    case TEST:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n}","export const TEST = 'test';\r\nexport const SET_GLOBAL_CONFIG = 'set_global_config';\r\nexport const LOAD_MARKERS = 'load_markers';\r\nexport const LOAD_STATIC_MARKERS = 'load_static_markers';\r\nexport const LOAD_MARKER_DETAIL = 'load_marker_detail';\r\nexport const SET_MARKER_EDIT_DATA = 'set_marker_edit_data';\r\nexport const UNLOAD_MARKER_DETAIL = 'unload_marker_detail';","import {\r\n    SET_GLOBAL_CONFIG\r\n } from './types';\r\n \r\nexport const setNewMarkerRefPointOn = () => dispatch => {\r\n  dispatch({ type: SET_GLOBAL_CONFIG, payload: {newMarketShowRefPoint: true}});\r\n};\r\n\r\nexport const setNewMarkerRefPointOff = () => dispatch => {\r\n  dispatch({ type: SET_GLOBAL_CONFIG, payload: {newMarketShowRefPoint: false}});\r\n};\r\n\r\nexport const setNewMarkerFromOpen = () => dispatch => {\r\n  dispatch({ type: SET_GLOBAL_CONFIG, payload: {newMarketFromOpen: true}});\r\n};\r\n\r\nexport const setNewMarkerFromClose = () => dispatch => {\r\n  dispatch({ type: SET_GLOBAL_CONFIG, payload: {newMarketFromOpen: false}});\r\n};\r\n\r\n","import axios from 'axios';\r\n\r\nimport {\r\n    LOAD_STATIC_MARKERS,\r\n    LOAD_MARKERS,\r\n    LOAD_MARKER_DETAIL,\r\n    UNLOAD_MARKER_DETAIL\r\n} from './types';\r\n\r\nrequire('dotenv').config();\r\n\r\nexport const loadStaticMarkers = () => async (dispatch) => {\r\n    try {\r\n        let body = JSON.stringify({ latMin: -100, latMax: 100, lngMin: -100, lngMax: 100 })\r\n        let config = {\r\n            headers: { \r\n                'Content-Type': 'application/json',\r\n                'X-Api-Key': process.env.REACT_APP_API_KEY\r\n            }\r\n        }\r\n        const res = await axios.post(process.env.REACT_APP_BASE_URL+'/locations/list',body,config);\r\n        dispatch({ type: LOAD_STATIC_MARKERS, payload: {markerList: res.data}});\r\n        return true;\r\n    } catch (err) {\r\n        console.log(err);\r\n        return false;\r\n    }\r\n};\r\n\r\nexport const loadMarkers = () => async (dispatch) => {\r\n    try {\r\n        let body = JSON.stringify({ latMin: -100, latMax: 100, lngMin: -100, lngMax: 100 })\r\n        let config = {\r\n            headers: { \r\n                'Content-Type': 'application/json',\r\n                'X-Api-Key': process.env.REACT_APP_API_KEY\r\n            }\r\n        }\r\n        const res = await axios.post(process.env.REACT_APP_BASE_URL+'/markers/list',body,config);\r\n        dispatch({ type: LOAD_MARKERS, payload: {markerList: res.data}});\r\n        return true;\r\n    } catch (err) {\r\n        console.log(err);\r\n        return false;\r\n    }\r\n};\r\n\r\n\r\nexport const getMarketDetail = (data) => async (dispatch) => {\r\n    try {\r\n        let body = JSON.stringify({ marker_id: data.id })\r\n        let config = {\r\n            headers: { \r\n                'Content-Type': 'application/json',\r\n                'X-Api-Key': process.env.REACT_APP_API_KEY\r\n            }\r\n        }\r\n        const res = await axios.post(process.env.REACT_APP_BASE_URL+'/markers/info',body,config);\r\n        //console.log(res.data[0].products);\r\n        let products = [];\r\n        res.data[0].products.forEach(element => {\r\n            products.push(element.name);\r\n        });\r\n        let nivelCola = '';\r\n        if(res.data[0].queue_level == 1){\r\n            nivelCola = 'Nada';\r\n        }else if(res.data[0].queue_level == 2){\r\n            nivelCola = 'Poco';\r\n        }else if(res.data[0].queue_level == 3){\r\n            nivelCola = 'Algo';\r\n        }else if(res.data[0].queue_level == 4){\r\n            nivelCola = 'Mucho';\r\n        }else{\r\n            nivelCola = '';\r\n        }\r\n        let untilAux;\r\n        if(res.data[0].closing_hour == 'null'){\r\n          untilAux = 'Estamos averiguando para usted ♥';\r\n        }else{\r\n          untilAux = res.data[0].closing_hour;\r\n        }\r\n        const markerInfo = {\r\n            ready: true,\r\n            markerDetail: {\r\n                until: untilAux,\r\n                queue_level: nivelCola,\r\n                products:products\r\n            },\r\n        }\r\n        dispatch({ type: LOAD_MARKER_DETAIL, payload: markerInfo});\r\n        return true;\r\n    } catch (err) {\r\n        console.log(err);\r\n        return false;\r\n    }\r\n};\r\n\r\nexport const unLoadMarkerDetail = () => dispatch => {\r\n    dispatch({ type: UNLOAD_MARKER_DETAIL, payload:null});\r\n};\r\n\r\nexport const newMarker = (data) => async (dispatch) => {\r\n    try {\r\n        let body = JSON.stringify({ \r\n            lat: data.lat, \r\n            long: data.lng, \r\n            name: data.name, \r\n            closing_hour: data.closing_hour,\r\n            products: data.products,\r\n            queue_level: data.queue_level,\r\n            marker_type: 1\r\n        })\r\n        let config = {\r\n            headers: { \r\n                'Content-Type': 'application/json',\r\n                'X-Api-Key': process.env.REACT_APP_API_KEY\r\n            }\r\n        }\r\n        console.log(body);\r\n        const res = await axios.post(process.env.REACT_APP_BASE_URL+'/markers',body,config);\r\n        return true;\r\n    } catch (err) {\r\n        console.log(err);\r\n        return false;\r\n    }\r\n};","\r\nimport axios from 'axios';\r\n\r\nimport {\r\n  SET_GLOBAL_CONFIG,\r\n  SET_MARKER_EDIT_DATA,\r\n} from './types';\r\n\r\nrequire('dotenv').config();\r\n\r\nexport const setEditMarkerFromOpen = (data) => dispatch => {\r\n  let markerDetail = {\r\n    until: data.until,\r\n    queue_level: data.queue_level,\r\n    products: data.products,\r\n    name: data.name,\r\n    id:data.id,\r\n  }\r\n  dispatch({ type: SET_MARKER_EDIT_DATA, payload: markerDetail});\r\n  dispatch({ type: SET_GLOBAL_CONFIG, payload: {editMarketFromOpen: true}});\r\n};\r\n\r\nexport const setEditMarkerFromClose = () => dispatch => {\r\n  dispatch({ type: SET_GLOBAL_CONFIG, payload: {editMarketFromOpen: false}});\r\n};\r\n\r\n\r\nexport const editMarker = (data) => async (dispatch) => {\r\n  try {\r\n      let body = JSON.stringify({ \r\n        marker_id: data.marker_id,\r\n        closing_hour: data.closing_hour,\r\n        products: data.products,\r\n        queue_level: data.queue_level\r\n      });\r\n      let config = {\r\n          headers: { \r\n              'Content-Type': 'application/json',\r\n              'X-Api-Key': process.env.REACT_APP_API_KEY\r\n          }\r\n      };\r\n      console.log(body);\r\n      const res = await axios.post(process.env.REACT_APP_BASE_URL+'/markers/update',body,config);\r\n      return true;\r\n  } catch (err) {\r\n      console.log(err);\r\n      return false;\r\n  }\r\n};\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Row, Col, TextInput, Button, CardPanel } from 'react-materialize';\r\nimport TimePicker from 'rc-time-picker';\r\nimport moment from 'moment';\r\nimport  MultiSelectReact  from 'multi-select-react';\r\nimport 'rc-time-picker/assets/index.css';\r\nimport * as actions from '../actions';\r\n\r\nclass NewMarker extends Component { \r\n\r\n  constructor(props){\r\n    super(props);\r\n    const now = moment();\r\n    this.state = {\r\n      nombre:'', \r\n      time:now,\r\n      format: 'h:mm a',\r\n      selectCola: [\r\n        {value: false, label: \"Nada\", id: 1, level: 1},\r\n        {value: false, label: \"Poco\", id: 2, level: 2},\r\n        {value: false, label: \"Algo\", id: 3, level: 3},\r\n        {value: false, label: \"Mucho\", id: 4, level: 4},\r\n        {value: false, label: \"No ir, esta cerrado\", id: 5, level: 5}\r\n      ],\r\n      selectProducto: [\r\n        {value: false, label: \"Abarrotes\", id: 1},\r\n        {value: false, label: \"Alimentos\", id: 2},\r\n        {value: false, label: \"Bebestibles\", id: 3},\r\n        {value: false, label: \"Medicamentos\", id: 4},\r\n        {value: false, label: \"Otros\", id: 5},\r\n        {value: false, label: \"No ir, no hay nada\", id: 6, level: 6}\r\n      ],\r\n      error: false,\r\n      showAviso: false,\r\n      procesando: false\r\n    }\r\n  }\r\n\r\n  optionClickedCola(optionsList) {\r\n    this.setState({ selectCola: optionsList });\r\n  }\r\n\r\n  selectedBadgeClickedCola(optionsList) {\r\n    this.setState({ selectCola: optionsList });\r\n  }\r\n\r\n  optionClickedProducto(optionsList) {\r\n    this.setState({ selectProducto: optionsList });\r\n  }\r\n\r\n  selectedBadgeClickedProducto(optionsList) {\r\n    this.setState({ selectProducto: optionsList });\r\n  }\r\n\r\n  validateForm(){\r\n    let queue_level = -1;\r\n    this.state.selectCola.forEach((item) => {\r\n      if(item.value){\r\n        queue_level = item.level;\r\n      }\r\n    });\r\n    if(queue_level == -1){\r\n      return false;\r\n    }\r\n    let products = [];\r\n    this.state.selectProducto.forEach((item) => {\r\n      if(item.value){\r\n        products.push({name: item.label});\r\n      }\r\n    });\r\n    if(products.length == 0){\r\n      return false;\r\n    }\r\n    if(this.state.nombre.length == 0 || this.state.nombre.length > 30){\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  onCreateNewMarker(){\r\n    if(this.validateForm()){\r\n      let queue_level;\r\n      this.state.selectCola.forEach((item) => {\r\n        if(item.value){\r\n          queue_level = item.level;\r\n        }\r\n      });\r\n      let products = [];\r\n      this.state.selectProducto.forEach((item) => {\r\n        if(item.value){\r\n          products.push({name: item.label});\r\n        }\r\n      });\r\n      let data = {\r\n        lat: this.props.newMarkerLat,\r\n        lng: this.props.newMarkerLng,\r\n        name: this.state.nombre,\r\n        closing_hour: this.state.time.format('HH:mm'),\r\n        products: products,\r\n        queue_level: queue_level\r\n      };\r\n      this.setState({error:false, procesando: true})\r\n      this.props.newMarker(data).then(()=>{\r\n        this.props.loadStaticMarkers().then(() => {\r\n          this.props.loadMarkers().then(() => {\r\n            this.setState({showAviso: true, procesando: false});\r\n          });\r\n        });\r\n      });\r\n    }else{\r\n      this.setState({error:true})\r\n    }\r\n  }\r\n\r\n  renderError(){\r\n    if(this.state.error){\r\n      return(<div style={{color:'red'}}>Tienes que ingresar toda la información porfa :)</div>);\r\n    }\r\n  }\r\n\r\n  renderOptions(){\r\n    if(this.state.showAviso){\r\n      return(\r\n        <div>\r\n          <Col s={12} style={{textAlign:'center', paddingBottom: '10px'}}>\r\n            <div style={{paddingBottom: '10px', paddingTop:'50px'}}><b>Gracias!, luego que revisemos tu aporte, lo compartiremos con todo Chile! </b></div>\r\n            <Button  \r\n              style={{backgroundColor: '#efcb68', color: '#000411'}}\r\n              onClick={ () => {this.props.setNewMarkerFromClose(); this.props.setNewMarkerRefPointOff(); window.location.reload(false);}}\r\n            >\r\n              Ya !\r\n            </Button >\r\n          </Col>\r\n        </div>\r\n      );\r\n    }else if(this.state.procesando){\r\n      return(\r\n        <div>\r\n          <Col s={12} style={{textAlign:'center', paddingBottom: '10px'}}>\r\n            <div style={{paddingBottom: '10px', paddingTop:'50px'}}><b>Estamos procesando!... 5 segundos porfa :)</b></div>\r\n          </Col>\r\n        </div>\r\n      );\r\n    }else{\r\n      return(\r\n        <div>\r\n          <Col s={12} style={{textAlign:'center', paddingBottom: '10px'}}>\r\n            <Button  \r\n              style={{backgroundColor: '#efcb68', color: '#000411'}}\r\n              onClick={ () => this.onCreateNewMarker()}\r\n            >\r\n              Agregar local\r\n            </Button >\r\n          </Col>\r\n          <Col s={12}  style={{textAlign:'center'}}>\r\n            <Button  \r\n              style={{backgroundColor: '#aeb7b3', color: '#000411'}}\r\n              onClick={ () => {this.props.setNewMarkerFromClose(); this.props.setNewMarkerRefPointOff();}}\r\n            >\r\n              Cancelar\r\n            </Button >\r\n          </Col>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderForm(){\r\n    if(!this.state.procesando && !this.state.showAviso){\r\n      const selectedOptionsStyles = {\r\n        color: \"#160c28\",\r\n        backgroundColor: \"#efcb68\"\r\n      };\r\n      const optionsListStyles = {\r\n        backgroundColor: \"#fcf8e3\",\r\n        color: \"#8a6d3b\"\r\n      };\r\n      return(\r\n        <Col s={12} style={{marginTop:'10px'}}>\r\n          <Col s={10} offset='s1' style={{paddingLeft:'0px', paddingRight: '0px'}}>\r\n            <TextInput label=\"Nombre de la tienda\" value={this.state.nombre} onChange={(event) => this.setState({nombre: event.target.value})} />\r\n          </Col>\r\n          <Col s={10} offset='s1' style={{textAlign:'center', paddingBottom: '10px'}}>\r\n            <p>¿A qué hora cierra?</p>\r\n            <TimePicker\r\n              allowEmpty={false}\r\n              showSecond={false}\r\n              defaultValue={this.state.time}\r\n              className=\"xxx\"\r\n              onChange={(time) => this.setState({time:time})}\r\n              format={this.state.format}\r\n              inputReadOnly\r\n            />\r\n          </Col>\r\n          <Col s={10} offset='s1' style={{textAlign:'center', paddingBottom: '10px'}}>\r\n            <p style={{marginBottom: '5px'}}>¿Cuánta cola hay?</p>\r\n            <MultiSelectReact \r\n              options={this.state.selectCola}\r\n              optionClicked={this.optionClickedCola.bind(this)}\r\n              selectedBadgeClicked={this.selectedBadgeClickedCola.bind(this)}\r\n              selectedOptionsStyles={selectedOptionsStyles}\r\n              optionsListStyles={optionsListStyles}\r\n              isSingleSelect={true}\r\n            />\r\n          </Col>\r\n          <Col s={10} offset='s1' style={{textAlign:'center', paddingBottom: '60px'}}>\r\n            <p style={{marginBottom: '5px'}}>¿Qué encontraste en este lugar?</p>\r\n            <MultiSelectReact \r\n              options={this.state.selectProducto}\r\n              optionClicked={this.optionClickedProducto.bind(this)}\r\n              selectedBadgeClicked={this.selectedBadgeClickedProducto.bind(this)}\r\n              selectedOptionsStyles={selectedOptionsStyles}\r\n              optionsListStyles={optionsListStyles}\r\n            />\r\n          </Col>\r\n          <Col s={12} style={{textAlign:'center', paddingBottom: '10px'}}>\r\n            {this.renderError()}\r\n          </Col>\r\n        </Col>\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Row style={{width:'100%', position: 'absolute', paddingTop:'10px'}}>\r\n          <Col s={8} offset='s2' style={{textAlign:'center', paddingBottom: '10px',  paddingTop: '10px', background: '#160c28', color:'#e1efe6', borderRadius:'25px'}}>\r\n            <b>Ayúdanos a recolectar algo de información :)</b>\r\n          </Col>\r\n          {this.renderForm()}\r\n          {this.renderOptions()}\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n};\r\n\r\nexport default connect(null,actions)(NewMarker);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Row, Col } from 'react-materialize';\r\nimport * as actions from '../actions';\r\n\r\nclass ToolBar extends Component { \r\n\r\nrenderToolBar(){\r\n    if(this.props.globals.newMarketShowRefPoint){\r\n      return(\r\n        <div>\r\n          <Col s={5} offset='s1'>\r\n            <Button  \r\n              style={{backgroundColor: '#aeb7b3', color: '#000411'}}\r\n              onClick={ () => this.props.setNewMarkerRefPointOff() }\r\n            >\r\n              Cancelar\r\n            </Button >\r\n          </Col>\r\n          <Col s={4}>\r\n            <Button\r\n              style={{backgroundColor: '#efcb68', color: '#000411'}}\r\n              onClick={ () => this.props.setNewMarkerFromOpen() }\r\n            >\r\n              Continuar\r\n            </Button >\r\n          </Col>\r\n        </div>\r\n      );\r\n    }else{\r\n      return(\r\n        <div>\r\n          <Button\r\n              style={{backgroundColor: '#efcb68', color: '#000411'}}\r\n              onClick={ () => {\r\n                this.props.setNewMarkerRefPointOn()} }\r\n            >\r\n              Agregar local\r\n            </Button >\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Row style={{textAlign:'center', marginBottom: '10px'}}>\r\n          <Col s={12} style={{paddingTop: '10px', paddingBottom: '10px'}}>\r\n            {this.renderToolBar()}\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n};\r\n\r\nfunction mapStateToProps(state){\r\n    return {\r\n        globals: state.globals\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, actions)(ToolBar);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button } from 'react-materialize';\r\n\r\nclass Filter extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.updateCenderMap = this.updateCenderMap.bind(this);\r\n  }\r\n\r\n  updateCenderMap(){\r\n    this.props.updateCenderMap();\r\n  }\r\n\r\n  onUpdateCenterMap(){\r\n    var options = {\r\n      enableHighAccuracy: true,\r\n      maximumAge: 0\r\n    };\r\n    navigator.geolocation.getCurrentPosition((poss) =>{\r\n      let lat = poss.coords.latitude;\r\n      let lng = poss.coords.longitude;\r\n      if(typeof(lat) !== 'undefined' && typeof(lng) !== 'undefined'){\r\n        this.setState({\r\n          centerLat: lat,\r\n          centerLng: lng,\r\n        });\r\n      }\r\n    },null,options);\r\n    this.updateCenderMap();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {/*\r\n        <Button\r\n          onClick={ () => this.onUpdateCenterMap() }\r\n          style={{marginTop: \"5px\",marginBottom: \"5px\",marginLeft: \"5px\", backgroundColor:'#aeb7b3'}}\r\n        >\r\n          <i class=\"material-icons\" style={{fontSize:\"25px\", color:\"black\"}}>my_location</i>\r\n        </Button >\r\n        */}\r\n      </div>\r\n    )\r\n  }\r\n};\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    globals: state.globals\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Filter);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport moment from 'moment';\r\nimport { Row, Col, TextInput, Button, CardPanel } from 'react-materialize';\r\nimport  MultiSelectReact  from 'multi-select-react';\r\nimport TimePicker from 'rc-time-picker';\r\nimport 'rc-time-picker/assets/index.css';\r\nimport * as actions from '../actions';\r\n\r\nclass EditMarker extends Component { \r\n\r\n  constructor(props){\r\n    super(props);\r\n    const now = moment();\r\n    this.state = {\r\n        nombre:'', \r\n        time:now,\r\n        format: 'h:mm a',\r\n        selectCola: [\r\n            {value: false, label: \"Nada\", id: 1, level: 1},\r\n            {value: false, label: \"Poco\", id: 2, level: 2},\r\n            {value: false, label: \"Algo\", id: 3, level: 3},\r\n            {value: false, label: \"Mucho\", id: 4, level: 4},\r\n            {value: false, label: \"No ir, está cerrado\", id: 5, level: 5}\r\n        ],\r\n        selectProducto: [\r\n            {value: false, label: \"Abarrotes\", id: 1},\r\n            {value: false, label: \"Alimentos\", id: 2},\r\n            {value: false, label: \"Bebestibles\", id: 3},\r\n            {value: false, label: \"Medicamentos\", id: 4},\r\n            {value: false, label: \"Otros\", id: 5},\r\n            {value: false, label: \"No ir, no hay nada\", id: 6, level: 6}\r\n        ],\r\n        error: false,\r\n        showAviso: false,\r\n        procesando: false,\r\n        markerId: ''\r\n    }\r\n  }\r\n\r\n  componentWillMount(){\r\n      let selectColaAux = [];\r\n      this.state.selectCola.forEach((item) => {\r\n        if(this.props.markerEdit.markerDetail.queue_level == item.label){\r\n            selectColaAux.push({value: true, label: item.label, id: item.id, level: item.level});\r\n        }else{\r\n            selectColaAux.push(item);\r\n        }\r\n      });\r\n      let selectProductoAux = [];\r\n     this.state.selectProducto.forEach((item) => {\r\n        let encontrado = false;\r\n        this.props.markerEdit.markerDetail.products.forEach((incomeItems) => {\r\n            if(item.label == incomeItems){\r\n                selectProductoAux.push({value: true, label: item.label, id: item.id});\r\n                encontrado = true;\r\n            }\r\n        });\r\n        if(!encontrado){\r\n            selectProductoAux.push(item);\r\n        }\r\n     });\r\n      this.setState({\r\n          nombre: this.props.markerEdit.markerDetail.name,\r\n          time: moment(this.props.markerEdit.markerDetail.until, 'HH:mm A'),\r\n          selectCola: selectColaAux,\r\n          selectProducto: selectProductoAux,\r\n          markerId: this.props.markerEdit.markerDetail.id\r\n      })\r\n  }\r\n\r\n  validateForm(){\r\n    let queue_level = -1;\r\n    this.state.selectCola.forEach((item) => {\r\n      if(item.value){\r\n        queue_level = item.level;\r\n      }\r\n    });\r\n    if(queue_level == -1){\r\n      return false;\r\n    }\r\n    let products = [];\r\n    this.state.selectProducto.forEach((item) => {\r\n      if(item.value){\r\n        products.push({name: item.label});\r\n      }\r\n    });\r\n    if(products.length == 0){\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  onEditMarker(){\r\n    if(this.validateForm()){\r\n      let queue_level;\r\n      this.state.selectCola.forEach((item) => {\r\n        if(item.value){\r\n          queue_level = item.level;\r\n        }\r\n      });\r\n      let products = [];\r\n      this.state.selectProducto.forEach((item) => {\r\n        if(item.value){\r\n          products.push({name: item.label});\r\n        }\r\n      });\r\n      let data = {\r\n        marker_id: this.state.markerId,\r\n        closing_hour: this.state.time.format('HH:mm'),\r\n        products: products,\r\n        queue_level: queue_level\r\n      };\r\n      this.setState({error:false, procesando: true})\r\n      this.props.editMarker(data).then(()=>{\r\n        this.props.loadStaticMarkers().then(() => {\r\n          this.props.loadMarkers().then(() => {\r\n            this.setState({showAviso: true, procesando: false});\r\n          });\r\n        });\r\n      });\r\n    }else{\r\n      this.setState({error:true})\r\n    }\r\n  }\r\n\r\n  renderOptions(){\r\n    if(this.state.showAviso){\r\n      return(\r\n        <div>\r\n          <Col s={12} style={{textAlign:'center', paddingBottom: '10px'}}>\r\n            <div style={{paddingBottom: '10px', paddingTop:'50px'}}><b>Gracias!, luego que revisemos tu aporte, lo compartiremos con todo Chile! </b></div>\r\n            <Button  \r\n              style={{backgroundColor: '#efcb68', color: '#000411'}}\r\n              onClick={ () => {this.props.setEditMarkerFromClose(); window.location.reload(false);}}\r\n            >\r\n              Ya !\r\n            </Button >\r\n          </Col>\r\n        </div>\r\n      );\r\n    }else if(this.state.procesando){\r\n      return(\r\n        <div>\r\n          <Col s={12} style={{textAlign:'center', paddingBottom: '10px'}}>\r\n            <div style={{paddingBottom: '10px', paddingTop:'50px'}}><b>Estamos procesando!... 5 segundos porfa :)</b></div>\r\n          </Col>\r\n        </div>\r\n      );\r\n    }else{\r\n      return(\r\n        <div>\r\n          <Col s={12} style={{textAlign:'center', paddingBottom: '10px'}}>\r\n            <Button  \r\n              style={{backgroundColor: '#efcb68', color: '#000411'}}\r\n              onClick={ () => this.onEditMarker()}\r\n            >\r\n              Confirmar\r\n            </Button >\r\n          </Col>\r\n          <Col s={12}  style={{textAlign:'center'}}>\r\n            <Button  \r\n              style={{backgroundColor: '#aeb7b3', color: '#000411'}}\r\n              onClick={ () => {this.props.setEditMarkerFromClose(); }}\r\n            >\r\n              Cancelar\r\n            </Button >\r\n          </Col>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  optionClickedCola(optionsList) {\r\n    this.setState({ selectCola: optionsList });\r\n  }\r\n\r\n  selectedBadgeClickedCola(optionsList) {\r\n    this.setState({ selectCola: optionsList });\r\n  }\r\n\r\n  optionClickedProducto(optionsList) {\r\n    this.setState({ selectProducto: optionsList });\r\n  }\r\n\r\n  selectedBadgeClickedProducto(optionsList) {\r\n    this.setState({ selectProducto: optionsList });\r\n  }\r\n\r\n  renderError(){\r\n    if(this.state.error){\r\n      return(<div style={{color:'red'}}>Tienes que ingresar toda la información porfa :)</div>);\r\n    }\r\n  }\r\n\r\n  renderForm(){\r\n    if(!this.state.procesando && !this.state.showAviso){\r\n      const selectedOptionsStyles = {\r\n        color: \"#160c28\",\r\n        backgroundColor: \"#efcb68\"\r\n      };\r\n      const optionsListStyles = {\r\n        backgroundColor: \"#fcf8e3\",\r\n        color: \"#8a6d3b\"\r\n      };\r\n      return(\r\n        <Col s={12} style={{marginTop:'10px'}}>\r\n          <Col s={10} offset='s1' style={{paddingLeft:'0px', paddingRight: '0px'}}>\r\n            <p style={{fontSize:'25px'}}><b>{this.state.nombre}</b></p>\r\n          </Col>\r\n          <Col s={10} offset='s1' style={{textAlign:'center', paddingBottom: '10px'}}>\r\n            <p>¿A qué hora cierra?</p>\r\n            <TimePicker\r\n              allowEmpty={false}\r\n              showSecond={false}\r\n              defaultValue={this.state.time}\r\n              className=\"xxx\"\r\n              onChange={(time) => this.setState({time:time})}\r\n              format={this.state.format}\r\n              inputReadOnly\r\n            />\r\n          </Col>\r\n          <Col s={10} offset='s1' style={{textAlign:'center', paddingBottom: '10px'}}>\r\n            <p style={{marginBottom: '5px'}}>¿Cuánta cola hay?</p>\r\n            <MultiSelectReact \r\n              options={this.state.selectCola}\r\n              optionClicked={this.optionClickedCola.bind(this)}\r\n              selectedBadgeClicked={this.selectedBadgeClickedCola.bind(this)}\r\n              selectedOptionsStyles={selectedOptionsStyles}\r\n              optionsListStyles={optionsListStyles}\r\n              isSingleSelect={true}\r\n            />\r\n          </Col>\r\n          <Col s={10} offset='s1' style={{textAlign:'center', paddingBottom: '60px'}}>\r\n            <p style={{marginBottom: '5px'}}>¿Qué encontraste en este lugar?</p>\r\n            <MultiSelectReact \r\n              options={this.state.selectProducto}\r\n              optionClicked={this.optionClickedProducto.bind(this)}\r\n              selectedBadgeClicked={this.selectedBadgeClickedProducto.bind(this)}\r\n              selectedOptionsStyles={selectedOptionsStyles}\r\n              optionsListStyles={optionsListStyles}\r\n            />\r\n          </Col>\r\n          <Col s={12} style={{textAlign:'center', paddingBottom: '10px'}}>\r\n            {this.renderError()}\r\n          </Col>\r\n        </Col>\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Row style={{width:'100%', position: 'absolute', paddingTop:'10px'}}>\r\n          <Col s={8} offset='s2' style={{textAlign:'center', paddingBottom: '10px',  paddingTop: '10px', background: '#160c28', color:'#e1efe6', borderRadius:'25px'}}>\r\n            <b>Ayúdanos a verificar lo que esta pasando :)</b>\r\n          </Col>\r\n          {this.renderForm()}\r\n          {this.renderOptions()}\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n};\r\n\r\nfunction mapStateToProps(state){\r\n    return {\r\n        markerEdit: state.markerEdit\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps,actions)(EditMarker);","import L from 'leaflet';\r\n\r\nconst iconMarket = new L.Icon({\r\n    iconUrl: require('../img/market.svg'),\r\n    iconRetinaUrl: require('../img/market.svg'),\r\n    iconAnchor: [30, 65],\r\n    popupAnchor: [0, 0],\r\n    shadowUrl: null,\r\n    shadowSize: null,\r\n    shadowAnchor: null,\r\n    iconSize: new L.Point(60, 75),\r\n});\r\n\r\nconst newMarker = new L.Icon({\r\n    iconUrl: require('../img/newMarker.svg'),\r\n    iconRetinaUrl: require('../img/newMarker.svg'),\r\n    iconAnchor: [30, 65],\r\n    popupAnchor: [0, 0],\r\n    shadowUrl: null,\r\n    shadowSize: null,\r\n    shadowAnchor: null,\r\n    iconSize: new L.Point(60, 75),\r\n});\r\n\r\nexport { iconMarket, newMarker };","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Map, TileLayer, Marker, Popup, ZoomControl } from 'react-leaflet';\r\nimport Control from 'react-leaflet-control';\r\nimport { Card, Button, Col } from 'react-materialize';\r\nimport MarkerClusterGroup from 'react-leaflet-markercluster';\r\nimport * as actions from '../actions';\r\n\r\nimport NewMarker from './NewMarker';\r\nimport ToolBar from './ToolBar';\r\nimport Filter from './Filter';\r\nimport EditMarker from './EditMarker';\r\n\r\nimport {iconMarket, newMarker} from '../helpers/iconList';\r\nimport Row from 'react-materialize/lib/Row';\r\n\r\nclass Home extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      zoom: 8,\r\n      newMarkerIcon: {\r\n        lat: -33.019,\r\n        lng: -71.550\r\n      },\r\n      centerMap:{\r\n        lat: -33.317,\r\n        lng: -71.103\r\n      }\r\n    }\r\n  }\r\n\r\n  mapRef = React.createRef();\r\n\r\n  renderMarker(){\r\n    const items = [];\r\n    //if(!this.props.globals.newMarketShowRefPoint){\r\n      Object.entries(this.props.markers).forEach(function(data) {\r\n        const markerId = data[0];\r\n        const markerData = data[1];\r\n        const editButton = (\r\n          <p>\r\n            <Button\r\n              style={{backgroundColor: '#efcb68', color: '#000411'}}\r\n              onClick={ () => this.props.setEditMarkerFromOpen({id: markerId, name: markerData.name, until:this.props.markerDetail.markerDetail.until , queue_level:this.props.markerDetail.markerDetail.queue_level , products: this.props.markerDetail.markerDetail.products}) }\r\n              disabled={this.props.markerDetail.ready ? false : true}\r\n            >\r\n              Actualizar información\r\n            </Button >\r\n          </p>\r\n        );\r\n        items.push(\r\n          <Marker \r\n            key={markerId} \r\n            position={[markerData.lat, markerData.lng]}\r\n            icon={iconMarket}\r\n            onClick={() => {\r\n              if(markerData.marker_type==1){\r\n                this.props.unLoadMarkerDetail();\r\n                this.props.getMarketDetail({id: markerId});\r\n              }\r\n            }}\r\n          >\r\n            <Popup autoPan={false}>\r\n              <p style={{fontSize:'18px'}}><b>{markerData.name}</b></p>\r\n              <p><b>Nivel de cola:</b> {markerData.marker_type == 1 ? (this.props.markerDetail.ready ? this.props.markerDetail.markerDetail.queue_level : 'Cargando') : 'Estamos averiguando para usted ♥'}</p>\r\n              <p><b>Puedes encontrar:</b> {markerData.marker_type == 1 ? (this.props.markerDetail.ready ? this.props.markerDetail.markerDetail.products.join(', ') : 'Cargando') : 'Estamos averiguando para usted ♥'}</p>\r\n              <p><b>Hora de cierre:</b> {markerData.marker_type == 1 ? (this.props.markerDetail.ready ? this.props.markerDetail.markerDetail.until : 'Cargando') : markerData.until}</p>\r\n              {markerData.marker_type == 1 ? editButton: <div></div>}\r\n            </Popup>\r\n          </Marker>\r\n        );\r\n      },this);\r\n    //}\r\n    return(<MarkerClusterGroup>{items}</MarkerClusterGroup>);\r\n  }\r\n\r\n  renderNewMarketIcon(){\r\n    if(this.props.globals.newMarketShowRefPoint){\r\n      return(\r\n        <Marker \r\n          position={[this.state.newMarkerIcon.lat, this.state.newMarkerIcon.lng]}\r\n          icon={newMarker}\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.props.loadStaticMarkers();\r\n    this.props.loadMarkers();\r\n    /*\r\n    let bounds = this.mapRef.current.leafletElement.getBounds();\r\n    let mapwidh = Math.abs(bounds._northEast.lat - bounds._southWest.lat); //ancho\r\n    let mapheight = Math.abs(bounds._northEast.lng - bounds._southWest.lng); //alto\r\n    console.log(\"Se frist last coord for request\");\r\n    this.setState({\r\n      lastLatMax: bounds._northEast.lat + mapwidh,\r\n      lastLatMin: bounds._southWest.lat - mapwidh,\r\n      lastLngMax: bounds._northEast.lng + mapheight,\r\n      lastLngMin: bounds._northEast.lng - mapheight\r\n    });\r\n    */\r\n  }\r\n\r\n  onClickCenterMap(){\r\n    var options = {\r\n      enableHighAccuracy: true,\r\n      maximumAge: 0\r\n    };\r\n    //if(!this.props.globals.fristMapCenter){\r\n      navigator.geolocation.getCurrentPosition((poss) =>{\r\n        let lat = poss.coords.latitude;\r\n        let lng = poss.coords.longitude;\r\n        if(typeof(lat) !== 'undefined' && typeof(lng) !== 'undefined'){\r\n          this.setState({\r\n            newMarkerIcon: {\r\n              lat: lat,\r\n              lng: lng\r\n            },\r\n            centerMap:{\r\n              lat: lat,\r\n              lng: lng\r\n            },\r\n            zoom: 12\r\n          });\r\n        }\r\n      },null,options);\r\n    //}\r\n  }\r\n\r\n  onChangeMapPosition(data){\r\n    this.setState({\r\n      newMarkerIcon: {\r\n        lat: data.center[0],\r\n        lng: data.center[1]\r\n      },\r\n      centerMap:{\r\n        lat: data.center[0],\r\n        lng: data.center[1]\r\n      },\r\n      zoom: data.zoom\r\n    });\r\n    //let bounds = this.mapRef.current.leafletElement.getBounds();\r\n    //console.log(bounds._northEast.lat); //arriba derecha de la ventana\r\n    //console.log(bounds._northEast.lng);\r\n    //console.log(bounds._southWest.lat); //abajo izquierda de la venana\r\n    //console.log(bounds._southWest.lng);\r\n    //let mapwidh = Math.abs(bounds._northEast.lat - bounds._southWest.lat); //ancho\r\n    //let mapheight = Math.abs(bounds._northEast.lng - bounds._southWest.lng); //alto\r\n    //console.log(mapwidh);\r\n    //console.log(mapheight);\r\n    //console.log(bounds._northEast.lat + mapwidh); //limite superior de carga (pared de la derecha)\r\n    //console.log(bounds._southWest.lat - mapwidh); //lminte inferior de carga (pared de la izquierda)\r\n    //console.log(bounds._northEast.lng + mapheight); //lminte inferior de carga (techo)\r\n    //console.log(bounds._northEast.lng - mapheight); //lminte inferior de carga (base)\r\n\r\n  }\r\n\r\n  renderNewMarkerFrom(){\r\n    if(this.props.globals.newMarketFromOpen){\r\n      return(\r\n        <NewMarker\r\n          newMarkerLat={this.state.newMarkerIcon.lat}\r\n          newMarkerLng={this.state.newMarkerIcon.lng}\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  renderEditMarkerFrom(){\r\n    if(this.props.globals.editMarketFromOpen){\r\n      return(\r\n        <EditMarker/>\r\n      );\r\n    }\r\n  }\r\n\r\n  //TODO: OJO NOMBRE\r\n  /*\r\n  updateCenderMap(){\r\n    var options = {\r\n      enableHighAccuracy: true,\r\n      maximumAge: 0\r\n    };\r\n    navigator.geolocation.getCurrentPosition((poss) =>{\r\n      let lat = poss.coords.latitude;\r\n      let lng = poss.coords.longitude;\r\n      if(typeof(lat) !== 'undefined' && typeof(lng) !== 'undefined'){\r\n        //TODO: ENVIAR AQUI \r\n        this.props.setNewCerterMap({lat,lng});\r\n        this.forceUpdate();\r\n      }\r\n    },null,options);\r\n  }\r\n  */\r\n\r\n  render() {\r\n    const displayMap = this.props.globals.newMarketFromOpen ? 'none' : 'block' && this.props.globals.editMarketFromOpen ? 'none' : 'block';\r\n    return (\r\n      <div>\r\n        <Card\r\n          style={{\r\n            display:displayMap,\r\n            position:'absolute',\r\n            width:'100%',\r\n            zIndex:'100000',\r\n            borderRadius: '40px',\r\n            fontSize: '12px',\r\n            textAlign:'center'\r\n          }}\r\n          className=\"blue-grey darken-1\"\r\n          textClassName=\"white-text\"\r\n        >\r\n          <Row style={{marginBottom:'0px'}}>\r\n            <Col s={8}>\r\n              Luego de 24 Horas seguimos trabajando! Cualquier Feedback mandanos un mensaje por <b><a href=\"https://www.instagram.com/abastecete.chile/\">Instagram</a></b>.\r\n            </Col>\r\n            <Col s={4}>\r\n              <Button\r\n                onClick={ () => this.onClickCenterMap() }\r\n                style={{marginTop: \"16px\", backgroundColor:'#aeb7b3'}}\r\n              >\r\n                <i class=\"material-icons\" style={{fontSize:\"25px\", color:\"black\"}}>my_location</i>\r\n              </Button >\r\n            </Col>\r\n          </Row>\r\n        </Card>\r\n        {this.renderNewMarkerFrom()}\r\n        {this.renderEditMarkerFrom()}\r\n        <Map \r\n          maxZoom={19}\r\n          minZoom={5}\r\n          ref={this.mapRef}\r\n          style={{display: displayMap}}\r\n          center={[this.state.centerMap.lat,this.state.centerMap.lng]}\r\n          zoom={this.state.zoom}\r\n          onViewportChange={(data) => this.onChangeMapPosition(data)}\r\n          zoomControl={false}\r\n        >\r\n          <TileLayer\r\n            attribution='&amp;copy OpenStreetMap \\m/ <font color=\"#160c28\"> Con ♥ por Sudo B00yz</font>'\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          />\r\n          {this.renderMarker()}\r\n          {this.renderNewMarketIcon()}\r\n\r\n          {/*\r\n          <Control position=\"topleft\">\r\n            <Filter updateCenderMap={this.updateCenderMap}/>\r\n          </Control>\r\n          */}\r\n\r\n          <Control position=\"bottomleft\" >\r\n            <ToolBar/>\r\n          </Control>\r\n\r\n          <ZoomControl position={\"bottomleft\"}/>\r\n\r\n        </Map>\r\n      </div>\r\n    )\r\n  }\r\n};\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    markers: state.markers.markers,\r\n    globals: state.globals,\r\n    markerDetail: state.markerDetail\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps,actions)(Home);","import React from 'react';\r\nimport { BrowserRouter, Route } from 'react-router-dom';\r\n\r\nimport Home from './Home';\r\n\r\nconst Main = () => {\r\n  return(\r\n    <BrowserRouter>\r\n      <div>\r\n        <Route exact={true} path=\"/\" component={Home} />\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Main;","import 'materialize-css/dist/js/materialize.min.js'\nimport 'materialize-css/dist/css/materialize.min.css';\nimport 'react-leaflet-markercluster/dist/styles.min.css'; \nimport './css/customCss.css';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport reduxThunk from 'redux-thunk';\n\nimport reducers from './reducers';\nimport Main from './components/Main';\n\n//TODO: quitar loger de redux dev tools para production\nconst store = createStore(reducers, {},\n  compose(\n    applyMiddleware(reduxThunk),\n    window.devToolsExtension ? window.devToolsExtension() : f => f\n    )\n  );\n\nReactDOM.render(\n  <Provider store={store}>\n      <Main />\n  </Provider>,\n  document.querySelector('#root')\n);"],"sourceRoot":""}